@model Reports.Models.CustomerReportModel>

@{
    ViewBag.Title = "CustomerReport";
}

<link href="@Url.Content("~/Content/themes/blue/style.css")" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function () {
        $("#myTable").tablesorter();
    });
</script>

@using (Html.BeginForm("CustomerReport", "customers", FormMethod.Post)) {

    <table>
    <tr><td class="table-label">@Html.LabelFor(modelItem => @Model.CampusID):</td><td>@Html.TextBoxFor(modelItem => @Model.CampusID, new { maxlength = "9" })</td></tr>
    <tr><td class="table-label">@Html.LabelFor(modelItem => @Model.StartDate):</td><td>@Html.TextBoxFor(modelItem => @Model.StartDate, new { @class = "date" })</td></tr>
    <tr><td class="table-label">@Html.LabelFor(modelItem => @Model.EndDate):</td><td>@Html.TextBoxFor(modelItem => @Model.EndDate, new { @class = "date" })</td></tr>
    <tr><td></td><td><input type="submit" value="Submit" /></td></tr>
    </table>
    @Html.Hidden("submitted", "true");
}

@Model.results.Count customers found<br />
<br />

<table id="myTable" class="tablesorter">
    <thead>
        <tr>
            <th>Login email</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Phone</th>
            <th>Restaurant</th>
            <th>Opt in</th>
            <th>Send coupons</th>
        </tr>
    </thead>
    <tbody>
    @foreach (Reports.Models.Results customerReportModel in Model.results)
    {
        <tr>
            <td>@customerReportModel.LoginEmail</td>
            <td>@customerReportModel.Fname</td>
            <td>@customerReportModel.Lname</td>
            <td>@customerReportModel.Phone</td>
            <td>@customerReportModel.RestaurantName</td>
            <td>@customerReportModel.OptIn</td>
            <td>@customerReportModel.SendCoupons</td>
        </tr>
    }
    </tbody>
</table>
<br />
@Html.ActionLink("Back", "reports") @Html.ActionLink("Home", "", "home")